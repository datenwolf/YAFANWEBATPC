[20:30:56] <nonchip@jabber.ccc.de> grad mit meinem vater das problem der positionierung in yafanwebatpc diskutiert
[20:31:27] <keine-ahnung@jabber.ccc.de> und, wie machste es jetzt?
[20:31:38] <keine-ahnung@jabber.ccc.de> festkomma meter?
[20:31:40] <nonchip@jabber.ccc.de> also die frage: soll man den 300km-planeten sehen und raumschiffe kilometerweise ruckeln lassen, oder raumschiffe "normal" fliegen lassen und planeten durchsägen
[20:31:42] <nonchip@jabber.ccc.de> nee
[20:31:45] <keine-ahnung@jabber.ccc.de> meter+milimeter?
[20:31:51] <nonchip@jabber.ccc.de> floats
[20:31:55] <nonchip@jabber.ccc.de> 1.0=1meter
[20:31:56] <keine-ahnung@jabber.ccc.de> wie durchsägen?
[20:32:05] <keine-ahnung@jabber.ccc.de> floats? sind das gleitkomma?
[20:32:08] <nonchip@jabber.ccc.de> ja weil der int in der mitte des planeten endet...
[20:32:08] <nonchip@jabber.ccc.de> ja
[20:32:41] <nonchip@jabber.ccc.de> und zwar definier ich keine quadranten oder absoluten positionen von nem theoretischen (0;0;0)
[20:32:43] <keine-ahnung@jabber.ccc.de> y ist ein planet durchgesäbelt, nur weil seine Position als int beschrieben ist?
[20:32:48] <nonchip@jabber.ccc.de> sondern ich mach en baum-system
[20:32:53] <keine-ahnung@jabber.ccc.de> wtf?
[20:33:08] <keine-ahnung@jabber.ccc.de> grundobjekte relativ zu 0,0,0, rest relativ zu grundobjekten oder zum rest?
[20:33:25] <nonchip@jabber.ccc.de> weil er außerhalb des ints ist, und er deshalb nich angezeigt wird, aber wenn ich näher komme schon riesengroß reinbloppt
[20:33:29] <nonchip@jabber.ccc.de> nein
[20:33:33] <nonchip@jabber.ccc.de> es gibt kein 0,0,0
[20:33:52] <nonchip@jabber.ccc.de> bzw das allererste objekt das mein universumswürfelprogramm baut ist 0,0,0
[20:37:33] <keine-ahnung@jabber.ccc.de> http://meta.metaebene.me/media/misc/der-mit-den-vielen-podcasts.mp3

[20:37:35] <nonchip@jabber.ccc.de> dann mach ichs nach dem system:
- wenn en objekt ne sonne ist, relativ zur letzten definierten sonne in zb lichtjahren angeben
- wenn en objekt en planet ist, relativ zur sonne des planeten in zb 1000km angeben
- wenn en objekt kleiner als en planet is, relativ zum nächsten planeten in km angeben
- wenn en objekt en raumschiff (oder ähnliches dynamisches objekt) ist, relativ zum nächsten statischen objekt in m angeben, wobei jeder simulationsframe dieses bezugsobjekt ändern könnte (indem das system die bezugs-objekt-ID zusammen mit der relativen position ändert)
[20:37:49] <nonchip@jabber.ccc.de> dann hat man ne art baum.
[20:39:27] <nonchip@jabber.ccc.de> und so funtzt das dann auch. beispiel: ich will das fremde raumschiff positionieren, das da hinten neben dem asteroiden is, während ich nahe einer planetenoberfläche bin:
- position ich->planet
- position asteroid->planet addieren
- position gegner->asteroid addieren
- fertig
[20:41:57] <nonchip@jabber.ccc.de> krasseres beispiel: weitstreckenscan (oder ähnliches, in echt wäre der niemals so genau).
setup:
- sonne S
- planet P
- asteroid A
- Spieler 0
- sonne T
- planet Q
- asteroid B
- Spieler 1
scann 0->1:
position=[0->A]+[A->P]+[P->S]+[S->T]+[T->Q]+[Q->B]+[B->1]
[20:42:17] <nonchip@jabber.ccc.de> wobei [X->Y] = relative position von x mit bezug auf y
[20:42:37] <nonchip@jabber.ccc.de> die dinger kann man dann einfach 3dimensional addieren.
[20:43:34] <nonchip@jabber.ccc.de> ach und dann hätte der client auch direkt sein (0;0;0) für die rendering-engine (die ja keine kamera kann) im eigenen raumschiff
[20:44:57] <nonchip@jabber.ccc.de> da das ja relativ zu sich so positioniert wird:
[Schiff->Objekt]+[Objekt->Schiff]
was mathematisch so aussieht (positionen haben im gegensatz zu entfernungen vorzeichen):
S-O+O-S=S-S+O-O=0+0=0
[20:46:36] <nonchip@jabber.ccc.de> und es kommt auch viel besser, wenn man im HUD sieht (und dann im chat schreiben kann): "Position: Sol->Earth->Moon->Asteroid 5372216" statt "Quadrant: 342 X: 3247 Y: 238 Z: 26"
[20:47:04] <keine-ahnung@jabber.ccc.de> 5372216?
[20:47:07] <keine-ahnung@jabber.ccc.de> was soll das sein?
[20:47:24] <nonchip@jabber.ccc.de> en beispiel wie die nasa asteroiden nennt o_O
[20:47:40] <nonchip@jabber.ccc.de> also nix sinnvolles
[20:47:48] <keine-ahnung@jabber.ccc.de> aso
[20:48:23] <nonchip@jabber.ccc.de> durch diese relativierung halt ich die entfernungen schön klein, aber durch die baumstruktur muss der server nich immer alle einzelnen asteroiden entlangrennen+addieren wenn ich die entfernung 2er sonnen brauch.
[20:49:54] <nonchip@jabber.ccc.de> und die universumsgenerierung kann ich daran anpassen, sodass erstmal große objekte gewürfelt werden, und erst wenn da wer hin will auch kleinere dynamisch erzeugt (un wenner weg is wieder gelöscht) werden, ohne immer würfelweise die galaxiekarte ein- und auszublenden oder alles bisher erforschte im ram zu halten
[20:50:22] <nonchip@jabber.ccc.de> jetz brauch ich nurnoch nen turing-vollständigen pseudozufallsgenerator
[20:50:51] <nonchip@jabber.ccc.de> sprich: er soll beim selben seed dasselbe liefern, aber sich möglichst nie wiederholen wenn der seed sich nich wiederholt
